{"version":3,"sources":["helper.js","UsersService.js","new_user.js"],"names":["generateId","length","result","chars","charsLength","i","charAt","Math","floor","random","getUsers","data","localStorage","getItem","JSON","parse","err","toastr","error","createUser","user","users","push","id","setItem","stringify","submitBtn","document","getElementById","formEl","getElementsByTagName","supportedTypes","validator","text","val","password","test","email","hasError","name","value","originalValue","type","required","trim","includes","addEventListener","event","preventDefault","inputEl","payload","Error","UsersService","window","location"],"mappings":"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","file":"new_user.1b62257c.js","sourceRoot":"..\\src","sourcesContent":["export const generateId = (length = 5) => {\r\n    let result = '';\r\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    const charsLength = chars.length;\r\n    for (let i = 0; i < length; i++) {\r\n        result += chars.charAt(Math.floor(Math.random() * charsLength));\r\n    }\r\n    return result;\r\n};","import { generateId } from './helper';\r\nconst getUsers = () => {\r\n    try {\r\n        const data = localStorage.getItem('users');\r\n        return JSON.parse(data);\r\n    } catch (err) {\r\n        toastr.error('Error fetching data');\r\n    }\r\n};\r\nconst createUser = (user) => {\r\n    try {\r\n        const users = getUsers() || [];\r\n        users.push({\r\n            ...user,\r\n            id: generateId(10),\r\n\r\n        });\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n        toastr.error('User created');\r\n    } catch (err) {\r\n        toastr.error('Error fetching data');\r\n    }\r\n};\r\nexport default {\r\n    getUsers,\r\n    createUser,\r\n};","import UsersService from './UsersService';\r\nconst submitBtn = document.getElementById('submit');\r\nconst formEl = document.getElementsByTagName('form')[0];\r\nconst supportedTypes = ['text', 'password', 'email'];\r\n\r\nconst validator = {\r\n    text(val) {\r\n        return val.length > 0;\r\n    },\r\n    password(val) {\r\n        return (/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/).test(val);\r\n\r\n    },\r\n    email(val) {\r\n        return (/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/).test(val);\r\n    }\r\n}\r\n\r\nconst hasError = ({ name, value: originalValue, type, required }) => {\r\n    const value = originalValue.trim ? originalValue.trim() : originalValue;\r\n    if (!supportedTypes.includes(type)) {\r\n        return 'Type is not suported';\r\n    }\r\n    if (!value) {\r\n        return required ? `[${name}] field is mandatory` : false;\r\n    }\r\n\r\n    if (validator[type] && !validator[type](value)) {\r\n        return `[${name}] field is incorrect`;\r\n    }\r\n    return false;\r\n};\r\nsubmitBtn.addEventListener('click', (event) => {\r\n    event.preventDefault();\r\n    const inputEl = formEl.getElementsByTagName('input');\r\n    const payload = {};\r\n\r\n    try {\r\n        for (let i = 0; i < inputEl.length; i++) {\r\n            const { value, type, required, name } = inputEl[i];\r\n            const err = hasError({ name, value, type, required });\r\n            if (err) {\r\n                throw Error(err);\r\n            }\r\n            payload[name] = value;\r\n        }\r\n        UsersService.createUser(payload);\r\n        return window.location = '/';\r\n\r\n    } catch (err) {\r\n        toastr.error(err);\r\n    }\r\n});"]}